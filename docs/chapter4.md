---
layout: default
title: "ì œ4ì¥: ë°ì´í„° ì²˜ë¦¬"
---

# ì œ4ì¥: ë°ì´í„° ì²˜ë¦¬
## Data Processing

> ì»´í“¨í„°ì˜ ì§„ì •í•œ ëŠ¥ë ¥ì€ **ëŒ€ê·œëª¨ ë°ì´í„°ì…‹**ì„ ì²˜ë¦¬í•˜ì—¬ ì˜ë¯¸ ìˆëŠ” í†µì°°ë ¥ì„ ì¶”ì¶œí•˜ëŠ” ë° ìˆìŠµë‹ˆë‹¤. ì´ ì¥ì—ì„œëŠ” ë¬´í•œ ì‹œí€€ìŠ¤ë¶€í„° ì„ ì–¸í˜• ì¿¼ë¦¬ê¹Œì§€ ë‹¤ì–‘í•œ ë°ì´í„° ì²˜ë¦¬ ë°©ì‹ì„ íƒêµ¬í•©ë‹ˆë‹¤.

---

## 4.1 ì†Œê°œ(Introduction)

### ë°ì´í„° ì²˜ë¦¬ì˜ í˜„ì‹¤

**ì»´í“¨í„°ì˜ ë³¸ì§ˆ:**

"ì»´í“¨í„°ëŠ” ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ìœ¼ë¡œë¶€í„° ì¸ê°„ í–‰ë™ê³¼ ì„¸ê³„ ì‚¬ê±´ì— ëŒ€í•œ ì˜ë¯¸ ìˆëŠ” í†µì°°ë ¥ì„ ì¶”ì¶œí•œë‹¤"

### ë¬´í•œê³¼ ë¹„í•œì • ì‹œí€€ìŠ¤

í”„ë¡œê·¸ë¨ì´ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„°:

**ìˆ˜í•™ì  ì‹œí€€ìŠ¤:**
- ì–‘ì˜ ì •ìˆ˜
- í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´
- ì†Œìˆ˜

**ì‹¤ì œ ë°ì´í„° ìŠ¤íŠ¸ë¦¼:**
- íœ´ëŒ€í° íƒ€ì›Œë¥¼ í†µí•œ í†µí™” ê¸°ë¡
- í•­ê³µê¸°ì˜ ì—°ì† ì„¼ì„œ ì¸¡ì •ê°’
- ì‚¬íšŒ ë¯¸ë””ì–´ì˜ ëì—†ëŠ” í”¼ë“œ

### ë°ì´í„° ì²˜ë¦¬ì˜ ì² í•™

**í•µì‹¬ ì•„ì´ë””ì–´:**

í”„ë¡œê·¸ë¨ì„ "ìˆœì°¨ì  ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì— ëŒ€í•œ ì¼ë ¨ì˜ ì¡°ì‘ íŒŒì´í”„ë¼ì¸"ìœ¼ë¡œ êµ¬ì„±

```
ì…ë ¥ â†’ í•„í„°ë§ â†’ ë³€í™˜ â†’ ì •ë ¬ â†’ ì¶œë ¥
```

### ì´ ì¥ì—ì„œ ë‹¤ë£¨ëŠ” ì£¼ì œ

1. **ì•”ì‹œì  ì‹œí€€ìŠ¤** - ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ë¬´í•œ ì‹œí€€ìŠ¤
2. **ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë°** - SQLì„ í†µí•œ ë°ì´í„° ì¿¼ë¦¬
3. **ë…¼ë¦¬ í”„ë¡œê·¸ë˜ë°** - Prolog ìŠ¤íƒ€ì¼ì˜ íŒ¨í„´ ë§¤ì¹­
4. **í†µì¼** - ë¡œì§ í”„ë¡œê·¸ë˜ë°ì˜ ê¸°ì´ˆ

---

## 4.2 ì•”ì‹œì  ì‹œí€€ìŠ¤ (Implicit Sequences)

### ë¬¸ì œ: ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±

**ì „í†µì  ë°©ì‹:**

```python
# 10ì–µ ê°œ ì •ìˆ˜ë¥¼ ëª¨ë‘ ë©”ëª¨ë¦¬ì— ì €ì¥?
numbers = list(range(10_000, 1_000_000_000))  # ë©”ëª¨ë¦¬ ì´ˆê³¼!
```

**í•´ê²°ì±…: ê²Œìœ¼ë¥¸ ê³„ì‚°(Lazy Computation)**

```python
# í•„ìš”í•  ë•Œë§Œ ê³„ì‚°
for i in range(10_000, 1_000_000_000):
    if condition(i):
        process(i)
```

### ë°˜ë³µì (Iterators)

**ì •ì˜:**

ìˆœì°¨ì ìœ¼ë¡œ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê°ì²´

```python
# ë°˜ë³µì ìƒì„±
iterator = iter([1, 2, 3, 4, 5])

# ë‹¤ìŒ ê°’ ì–»ê¸°
next(iterator)  # 1
next(iterator)  # 2
next(iterator)  # 3

# ì†Œì§„ë˜ë©´ StopIteration ì˜ˆì™¸
next(iterator)  # ... â†’ StopIteration
```

**ì¤‘ìš”í•œ íŠ¹ì§•:**

- í•œ ë²ˆì— í•˜ë‚˜ì˜ ê°’ë§Œ ë©”ëª¨ë¦¬ì— ë¡œë“œ
- ì „ì§„ë§Œ ê°€ëŠ¥ (ë’¤ë¡œ ì´ë™ ë¶ˆê°€)
- ìƒíƒœë¥¼ ìœ ì§€í•˜ë©° ì§„í–‰

### ë°˜ë³µ ê°€ëŠ¥ (Iterables)

`iter()` í•¨ìˆ˜ë¡œ ë°˜ë³µìë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê°ì²´:

```python
# ë‚´ì¥ ë°˜ë³µ ê°€ëŠ¥
list([1, 2, 3])
dict({'a': 1, 'b': 2})
set({1, 2, 3})
range(10)
str("Hello")

# for ë£¨í”„ëŠ” ìë™ìœ¼ë¡œ ë°˜ë³µì ìƒì„±
for x in [1, 2, 3]:
    print(x)
# ë‚´ë¶€ì ìœ¼ë¡œ:
# iterator = iter([1, 2, 3])
# while True:
#     try:
#         x = next(iterator)
#     except StopIteration:
#         break
```

### ìƒì„±ì (Generators)

**ì •ì˜:**

`return` ëŒ€ì‹  `yield`ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜

```python
def countdown(n):
    """në¶€í„° 1ê¹Œì§€ ì—­ìˆœ ë°œìƒ"""
    while n > 0:
        yield n
        n -= 1

# ì‚¬ìš©
for count in countdown(5):
    print(count)  # 5, 4, 3, 2, 1
```

**ì¥ì :**

- ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¡´
- ë³µì¡í•œ ë°˜ë³µ ë¡œì§ì„ ìš°ì•„í•˜ê²Œ í‘œí˜„
- í•„ìš”í•  ë•Œë§Œ ê°’ ê³„ì‚°

**í”¼ë³´ë‚˜ì¹˜ ìƒì„±ì:**

```python
def fibonacci():
    """í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ ìƒì„±"""
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

# ì²« 10ê°œ ê°’
for i, num in enumerate(fibonacci()):
    if i >= 10:
        break
    print(num)  # 0, 1, 1, 2, 3, 5, 8, 13, 21, 34
```

### ìŠ¤íŠ¸ë¦¼ (Streams)

**ê°œë…:**

ê²Œìœ¼ë¥´ê²Œ ê³„ì‚°ë˜ëŠ” í•¨ìˆ˜í˜• ì—°ê²° ë¦¬ìŠ¤íŠ¸

```
ìŠ¤íŠ¸ë¦¼ = [ì²« ê°’] + [ë‚˜ë¨¸ì§€ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜]
```

**ì´ì :**

- ë°˜ë³µìì™€ ë‹¬ë¦¬: ì—¬ëŸ¬ ë²ˆ ì²˜ë¦¬ ê°€ëŠ¥
- ë¶ˆë³€ êµ¬ì¡°
- ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ì²˜ë¦¬í•˜ë©´ ì¬í˜„ì„± ë³´ì¥

---

## 4.3 ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë° (Declarative Programming)

### ëª…ë ¹í˜• vs ì„ ì–¸í˜•

**ëª…ë ¹í˜• (How):**

```python
# ê³„ì‚° ë‹¨ê³„ë¥¼ ì§ì ‘ ê¸°ìˆ 
result = []
for item in items:
    if item > 5:
        result.append(item * 2)
result.sort()
```

**ì„ ì–¸í˜• (What):**

```sql
SELECT item * 2 FROM items WHERE item > 5 ORDER BY item * 2
```

### SQL ê°œìš”

**ê¸°ë³¸ êµ¬ì¡°:**

```sql
SELECT <columns>
FROM <table>
WHERE <condition>
ORDER BY <column>
```

### í…Œì´ë¸”ê³¼ ë ˆì½”ë“œ

**í…Œì´ë¸” = ê´€ê³„(Relation)**

```
í…Œì´ë¸”ëª…: Students
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚ id   â”‚ name    â”‚ ageâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ 1    â”‚ Alice   â”‚ 20 â”‚
â”‚ 2    â”‚ Bob     â”‚ 22 â”‚
â”‚ 3    â”‚ Carol   â”‚ 21 â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
```

### ê¸°ë³¸ SELECT ëª…ë ¹ì–´

**í”„ë¡œì ì…˜ (íŠ¹ì • ì—´ ì„ íƒ):**

```sql
SELECT name, age FROM students;
```

**í•„í„°ë§ (WHERE):**

```sql
SELECT * FROM students WHERE age > 20;
```

**ì •ë ¬ (ORDER BY):**

```sql
SELECT * FROM students ORDER BY age DESC;
```

### ì¡°ì¸ (Joins)

**í…Œì´ë¸” ê²°í•©:**

```sql
SELECT students.name, courses.title
FROM students
INNER JOIN enrollments ON students.id = enrollments.student_id
INNER JOIN courses ON enrollments.course_id = courses.id;
```

**ì‘ë™ ì›ë¦¬:**

```
ë‘ í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ ì¡°í•© ê²€ì‚¬
ì¼ì¹˜í•˜ëŠ” ì¡°ê±´ì˜ ì¡°í•©ë§Œ í¬í•¨
```

### ì§‘ê³„ (Aggregation)

**ì§‘ê³„ í•¨ìˆ˜:**

```sql
SELECT
    COUNT(*) as num_students,
    AVG(age) as average_age,
    MAX(age) as oldest_age
FROM students;
```

**GROUP BY (ê·¸ë£¹ë³„ ì§‘ê³„):**

```sql
SELECT
    course_id,
    COUNT(*) as enrollment_count
FROM enrollments
GROUP BY course_id;
```

### ì¬ê·€ ì¿¼ë¦¬

**WITH RECURSIVE (ë°˜ë³µ):**

```sql
WITH RECURSIVE integers(n) AS (
    SELECT 1
    UNION ALL
    SELECT n + 1 FROM integers WHERE n < 100
)
SELECT * FROM integers;
```

---

## 4.4 ë…¼ë¦¬ í”„ë¡œê·¸ë˜ë° (Logic Programming)

### Prolog: ì‚¬ì‹¤ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë°

**ê¸°ë³¸ ê°œë…:**

í”„ë¡œê·¸ë¨ = ì‚¬ì‹¤ì˜ ë°ì´í„°ë² ì´ìŠ¤ + ê·œì¹™

### ì‚¬ì‹¤ê³¼ ì¿¼ë¦¬

**ì‚¬ì‹¤ ì •ì˜:**

```prolog
fact parent(abraham, barack).
fact parent(barack, malia).
fact parent(malia, sasha).
```

**ì¿¼ë¦¬ (ì§ˆë¬¸):**

```prolog
query (parent abraham ?child)
% ê²°ê³¼: ?child = barack
```

### ê·œì¹™ (Rules)

**ë³µí•© ì‚¬ì‹¤ ì •ì˜:**

```prolog
fact (grandparent ?gp ?gc) :-
    (parent ?gp ?parent),
    (parent ?parent ?gc)

% ì½ê¸°: "?gpê°€ ?gcì˜ í• ì•„ë²„ì§€ë¼ë©´,
% ?gpê°€ ì–´ë–¤ ?parentì˜ ë¶€ëª¨ì´ê³ ,
% ê·¸ ?parentê°€ ?gcì˜ ë¶€ëª¨ì¸ ê²½ìš°"
```

### ì¬ê·€ ì‚¬ì‹¤

**ì¡°ìƒ ê´€ê³„:**

```prolog
fact (ancestor ?a ?d) :- (parent ?a ?d)
fact (ancestor ?a ?d) :-
    (parent ?p ?d),
    (ancestor ?a ?p)

% "?aê°€ ?dì˜ ì¡°ìƒì´ë©´:
%  - ì§ì ‘ ë¶€ëª¨ì´ê±°ë‚˜
%  - ë‹¤ë¥¸ ëˆ„êµ°ê°€ì˜ ë¶€ëª¨ì´ê³ , ê·¸ ëˆ„êµ°ê°€ì˜ ì¡°ìƒì¸ ê²½ìš°"
```

### ë¶€ì • (Negation as Failure)

```prolog
fact (not-parent ?p ?c) :- (not (parent ?p ?c))
```

**ê²½ê³ :** ë¹„í•œì • ë³€ìˆ˜ë¥¼ í¬í•¨í•œ ë¶€ì •ì€ ì˜ˆìƒê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ

### íŒ¨í„´ ë§¤ì¹­ê³¼ ë¦¬ìŠ¤íŠ¸

**ê³„ì¸µì  ë°ì´í„°:**

```prolog
fact (tree-node (value 1)
               ((value 2) nil (value 3)))
```

**ë¦¬ìŠ¤íŠ¸ íŒ¨í„´:**

```prolog
fact (append () ?y ?y)
fact (append (pair ?x ?rest) ?y (pair ?x ?z)) :-
    (append ?rest ?y ?z)
```

---

## 4.5 í†µì¼ (Unification)

### í•µì‹¬: íŒ¨í„´ ë§¤ì¹­ ì¼ë°˜í™”

**ì •ì˜:**

"ë‘ í‘œí˜„ì‹(ëª¨ë‘ ë³€ìˆ˜ í¬í•¨ ê°€ëŠ¥)ì´ ì¼ì¹˜í•˜ë„ë¡ í•˜ëŠ” ë³€ìˆ˜ ë°”ì¸ë”© ì°¾ê¸°"

### ê¸°ë³¸ ì˜ˆì œ

```
í‘œí˜„ì‹ 1: (parent abraham ?child)
í‘œí˜„ì‹ 2: (parent abraham barack)

í†µì¼: ?child = barack
```

### í†µì¼ ì•Œê³ ë¦¬ì¦˜

**ë‹¨ê³„ë³„ ê³¼ì •:**

1. **ë³€ìˆ˜ í•´ì„**
   - ë³€ìˆ˜ë¥¼ ê·¸ ë°”ì¸ë”©ëœ ê°’ìœ¼ë¡œ í•´ì„

2. **ë™ì¼ì„± í™•ì¸**
   - í‘œí˜„ì‹ì´ ë™ì¼í•˜ë©´ ì„±ê³µ

3. **ë³€ìˆ˜ ë°”ì¸ë”©**
   - ë¹„í•œì • ë³€ìˆ˜ë¥¼ ì ì ˆíˆ ë°”ì¸ë”©

4. **ì›ì ë¶ˆì¼ì¹˜**
   - ì›ìê°€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨

5. **ì¬ê·€ì  ì²˜ë¦¬**
   - ë³µí•© í‘œí˜„ì‹ì˜ ìš”ì†Œ ì¬ê·€ì  ì²˜ë¦¬

### êµ¬í˜„

**ë³€ìˆ˜ ì¶”ì :**

```python
class Frame:
    def __init__(self, parent=None):
        self.bindings = {}
        self.parent = parent

    def bind(self, var, value):
        """ë³€ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ë°”ì¸ë”©"""
        self.bindings[var] = value

    def lookup(self, var):
        """ë³€ìˆ˜ì˜ ìµœì¢… ê°’ ì¶”ì """
        if var in self.bindings:
            value = self.bindings[var]
            # ë°”ì¸ë”© ì²´ì¸ ë”°ë¼ê°€ê¸°
            if is_variable(value):
                return self.lookup(value)
            return value
        elif self.parent:
            return self.parent.lookup(var)
        else:
            return var  # ë¹„í•œì • ë³€ìˆ˜
```

### ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤

**ì¿¼ë¦¬ í•´ê²°:**

```
ì¿¼ë¦¬: (ancestor abraham sasha)

1. ë°ì´í„°ë² ì´ìŠ¤ì˜ ê° ì‚¬ì‹¤ ì‹œë„
2. ancestor ?a ?d ê·œì¹™ ë§¤ì¹­
3. í†µì¼: ?a=abraham, ?d=sasha
4. ê°€ì„¤ í‰ê°€:
   - (parent abraham ?p)ì™€ ì¼ì¹˜í•˜ëŠ” ì‚¬ì‹¤ ì°¾ê¸°
   - (ancestor abraham ?p)ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ì¦ëª…

5. ëª¨ë“  ê°€ëŠ¥í•œ í•´ê²°ì±… ì°¾ê¸°
```

---

## ğŸ¯ í•µì‹¬ ê°œë… ìš”ì•½

| ê°œë… | ì •ì˜ | íŠ¹ì§• |
|------|------|------|
| ê²Œìœ¼ë¥¸ í‰ê°€ | í•„ìš”í•  ë•Œë§Œ ê³„ì‚° | ë©”ëª¨ë¦¬ íš¨ìœ¨ |
| ë°˜ë³µì | ìˆœì°¨ì  ì ‘ê·¼ ê°ì²´ | í•œ ë°©í–¥ë§Œ ê°€ëŠ¥ |
| ìƒì„±ì | yield ì‚¬ìš© í•¨ìˆ˜ | ìƒíƒœ ë³´ì¡´ |
| ì„ ì–¸í˜• | "ë¬´ì—‡"ì„ ì›í•˜ëŠ”ì§€ | SQL ì¿¼ë¦¬ |
| ë…¼ë¦¬ í”„ë¡œê·¸ë˜ë° | ì‚¬ì‹¤ê³¼ ê·œì¹™ ê¸°ë°˜ | Prolog |
| í†µì¼ | íŒ¨í„´ ë§¤ì¹­ ì¼ë°˜í™” | ë³€ìˆ˜ ë°”ì¸ë”© |

---

## ğŸ’¡ í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ ë¹„êµ

| íŒ¨ëŸ¬ë‹¤ì„ | ì˜ˆì‹œ | ì¥ì  |
|----------|------|------|
| **ëª…ë ¹í˜•** | Python, Java | ì§ê´€ì , ì œì–´ ê°€ëŠ¥ |
| **í•¨ìˆ˜í˜•** | Scheme, Lisp | ì¶”ë¡  ê°€ëŠ¥, ë³‘ë ¬í™” ìš©ì´ |
| **ì„ ì–¸í˜•** | SQL | ê°„ê²°, ìµœì í™” ê°€ëŠ¥ |
| **ë…¼ë¦¬í˜•** | Prolog | ìë™ íƒìƒ‰, ìˆ˜í•™ì  |

---

## ğŸ“š ì „ì²´ ì—¬ì •

- **1ì¥:** í•¨ìˆ˜ë¥¼ í†µí•œ ì¶”ìƒí™”
- **2ì¥:** ë°ì´í„°ë¥¼ í†µí•œ ì¶”ìƒí™”
- **3ì¥:** í”„ë¡œê·¸ë¨ì˜ ì˜ë¯¸ (ì¸í„°í”„ë¦¬í„°)
- **4ì¥:** ëŒ€ê·œëª¨ ë°ì´í„° ì²˜ë¦¬

---

**ì´ í˜ì´ì§€ëŠ” [Composing Programs - Chapter 4](https://www.composingprograms.com/pages/41-introduction.html)ì˜ í•œêµ­ì–´ ì´ˆì›”ë²ˆì—­ì…ë‹ˆë‹¤.**
